<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <title>Document</title>
</head>
<body>
  <!-- Navabar which displayed on the top -->
  <div class="nav">
  </div>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#"><span style="color: green; font-size: 30px; font-family: monospace">Bro</span>Chill</a>
    <div  id="navbarSupportedContent">
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" [(ngModel)]="getOneImage"  placeholder="Search" aria-label="Search" [ngModelOptions]="{standalone: true}" style="outline: 0;border-radius: 0; border: none; border-bottom:1px solid #2c3e50" />
        <button id="btnSearch"class="btn btn-outline-success my-2 my-sm-0" (click)="requestImage()">Search</button>
      </form>
    </div>
  </nav>

  <!-- Form to share a post -->
  <div class="d-flex justify-content-center" style="background: #2c3e50;
  padding: 22px;">
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" [(ngModel)]="tag" placeholder="add a tag" aria-label="Search" [ngModelOptions]="{standalone: true}">
        <label class="form-control mr-sm-2" for="img">
          <span class="btnUpload"><h6>upload</h6></span>
        </label>
        <input type="file" id="img" style="display: none;" (change)="onChange($event)" accept="image/png, image/jpeg">
        <div><button class="btn btn-success btnPost" (click) = "uploaded()">Post</button></div>
      </form>
  </div>

  <!-- Exexutes if image found while searching  -->
  <div class="container" *ngIf="imageFound">
    <div class="row">
      <div class="col-md-6 mx-auto my-5">
        <div class="card" id="cardNoData">
          <img [src] =  "imageFound.img" alt="No Image" id="card-img-top" style="width: 100%; height:100%">
          <h5 class="card-title">{{imageFound.tag}}</h5>
        </div>
      </div>
    </div>
  </div>

  <!-- If image not found when search executes or when there is no posts inside the DB -->
    <div class="container" *ngIf="imageNotFound">
      <div class="row">
        <div class="col-md-6 mx-auto my-5">
          <div class="card" id="cardNoData">
            <img src = "../assets/404.jpg" alt="No Image" id="card-img-top">
            <h5 class="card-title">No data</h5>
          </div>
        </div>
      </div>
    </div>

    <!-- Card template for loading all the posts -->
    <div class="container">
      <div class="row">
          <div class="col-md-3 mx-auto my-5" *ngFor="let elem of allPosts; let i = index">
              <div class="card " id="card" style="border-radius:0;min-height: 350px; min-width: 250px; box-shadow: 0px 5px 10px 0px rgba(0, 0, 0, 0.5)">
                  <div style="width: 100%; height: 300px"><img class="card-img-top" [src]="elem.img" alt="Card image cap" id="card-img-top" style="border-radius:0;height:inherit"></div>
                  <div class="" id="card-body">
                      <h5 class="card-title">{{elem.tag}}</h5>
                  </div>
              </div>
          </div>
    </div>
  </div>
</body>
</html>